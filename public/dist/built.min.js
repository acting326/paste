function saveCode(a,b){if(""===b)return sweetAlert("Empty file...","You can't submit an empty file!","error");""===a&&(a=(Math.random()+1).toString(36).substring(7));var c={title:a,text:b};$.ajax({type:"POST",url:"/upload",contentType:"application/json",data:JSON.stringify(c),success:function(a){return console.log("SUCCESS!",a),void 0!==a.error?sweetAlert("Title taken...","This title is already taken! Pick another!","error"):void(window.location.href=a.redirect_url)},error:function(a,b){if(console.log("some kind of error"),b)throw b}})}var initText="";void 0!==window.localStorage.myEditor&&(initText=window.localStorage.myEditor);var editor=CodeMirror(document.getElementById("codeArea"),{value:initText,theme:"monokai",autoCloseBrackets:!0,lineNumbers:!0,tabSize:2,smartIndent:!0});window.localStorage.myEditor=editor.getValue(),editor.on("change",function(){window.localStorage.myEditor=editor.getValue()}),$(function(){$("#codeSubmit").click(function(){var a=$("#title").val(),b=editor.getValue();saveCode(a,b)})});